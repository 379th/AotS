import React from 'react';
import { ArrowLeft } from 'lucide-react';
import { ScreenFrame, TitleBar, Pill } from '../components/ui';
import { useTranslation } from '../i18n';
import { EXTERNAL_ASSETS } from '../config/externalAssets';
import { useTheme } from '../contexts/ThemeContext';

interface FaqScreenProps {
  onBack: () => void;
}

export const FaqScreen: React.FC<FaqScreenProps> = ({ onBack }) => {
  const { t } = useTranslation();
  const { theme } = useTheme();
  
  return (
    <ScreenFrame>
      <TitleBar 
        text="FAQ" 
        imagePath={EXTERNAL_ASSETS.NAVIGATION.FAQ_TITLE}
      />
      
      <div className={`mx-auto mt-2 w-[92%] rounded-2xl border p-4 transition-colors duration-300 ${
        theme === 'dark' 
          ? 'border-white/20 bg-[#1a0b2e] text-white' 
          : 'border-[#5c4032]/60 bg-[#e2d0b6] text-amber-900'
      }`}>
        <div className={`h-[66svh] overflow-y-auto rounded-xl border p-4 leading-relaxed text-[14px] md:text-[15px] transition-colors duration-300 ${
          theme === 'dark' 
            ? 'border-white/20 bg-[#2d1b4e] text-white' 
            : 'border-[#5c4032]/40 bg-[#f7f0e6]'
        }`}>
          <h2 className="text-lg font-bold mb-4">FAQ «Принятие Тени»</h2>
          
          <h3 className="text-base font-bold mb-3">Техника безопасности!</h3>
          
          <p className="mb-4">
            Квест — не психотерапия и не медпомощь. При переживании травмы, самоповреждения, тяжёлой депрессии/паники — обратитесь к специалисту. Если в процессе стало по-настоящему тяжело — стоп, пауза, дыхание, поговорить с родными/близкими или терапевтом.
          </p>
          
          <p className="mb-6">
            Для начала квеста нужно сформировать внутри запрос и вызвать намерение решить проблему, задачу, найти ответ, познать, узнать и т. д.
          </p>

          <div className="space-y-6">
            <div>
              <h4 className="font-bold mb-2">1. Что такое Тень (в квесте)?</h4>
              <p className="mb-2">
                Тень это тоже архетип. Это те наши качества, чувства и желания, которым «не дают место»: злость, страх, стыд, зависть, нужда в поддержке, потребность отдыхать, желание внимания. Они не «плохие» — просто вытеснены и потому управляют нами из-под полы. Мы говорим себе: «не буду злиться», «я не боюсь», «мне не больно», — и вытесняем опыт. Но он не исчезает: уходит в тень и незаметно влияет на выборы, отношения и энергию.
              </p>
              <p className="text-sm italic">
                Важно: Тень — не «плохая часть». Это жизненная сила и сигналы потребностей, которые были проигнорированы.
              </p>
            </div>

            <div>
              <h4 className="font-bold mb-2">2. Что такое Архетип (в квесте)?</h4>
              <p className="mb-2">
                Архетип — это опора, образ/паттерн светлой/здоровой силы, которая помогает держать равновесие и направлять энергию тени.
              </p>
              <p className="mb-2">
                Примеры: Хранитель (границы и забота), Воин (смелость и действие), Мудрец (ясность и наблюдение), Творец (игра и выражение), Любящий (сострадание и контакт).
              </p>
              <p className="text-sm italic">
                Архетип не «маска», а опора: он даёт язык, жесты и практики, через которые мы поддерживаем себя по-взрослому.
              </p>
            </div>

            <div>
              <h4 className="font-bold mb-2">3. Зачем встречаться с Тенью?</h4>
              <ul className="list-disc pl-5 space-y-1">
                <li>Чтобы прекратить «скрытое управление» (аффекты и импульсы становятся осознаннее).</li>
                <li>Чтобы вернуть доступ к заблокированной энергии: злость → границы/сила, страх → осторожность/мудрость и т.д.</li>
                <li>Чтобы развивать сострадание к себе вместо самообесценивания.</li>
                <li>Чтобы перестать повторять старые сценарии «на автопилоте».</li>
              </ul>
            </div>

            <div>
              <h4 className="font-bold mb-2">4. Зачем проходить квест?</h4>
              <ul className="list-disc pl-5 space-y-1">
                <li>Перестать ругать себя и относиться мягче.</li>
                <li>Понять, почему я так реагирую, и научиться выбирать по-новому.</li>
                <li>Вернуть и освободить энергию, которую съедает внутренний конфликт.</li>
                <li>Стать смелее и спокойнее, улучшить отношения с собой и близкими.</li>
              </ul>
            </div>

            <div>
              <h4 className="font-bold mb-2">5. Что ты получишь на выходе?</h4>
              <ul className="list-disc pl-5 space-y-1">
                <li>Осознание своей тени без стыда: что это за чувства/потребности, где и как они проявляются.</li>
                <li>Диалог: навык слушать себя и говорить с внутренним голосом бережно.</li>
                <li>Опора архетипа: выбранную сильную светлую стратегию.</li>
                <li>Символ целостности (личный знак) и план действий на жизнь.</li>
                <li>Бонус: несколько коротких практик «на каждый день».</li>
              </ul>
            </div>

            <div>
              <h4 className="font-bold mb-2">6. Что даёт ресурс Архетипа?</h4>
              <ul className="list-disc pl-5 space-y-1">
                <li>Контейнер безопасности: «Я в опоре Мудреца/Хранителя, со мной всё ок».</li>
                <li>Понятные действия: что делать здесь-и-сейчас (дыхание: мягкий вдох - 4 счёта, спокойный выдох - 4 счёта, фраза-маячок, 1 маленький шаг).</li>
                <li>Новый выбор: энергия Тени направляется конструктивно (например, злость → «ставлю границу одним предложением»).</li>
                <li>Символ/ритуал: короткая микропрактика, которая возвращает тебя к целостности.</li>
              </ul>
            </div>

            <div>
              <h4 className="font-bold mb-2">7. Что нужно и зачем?</h4>
              <ul className="list-disc pl-5 space-y-1">
                <li>Тетрадь/дневник и ручка. Письмо от руки замедляет и углубляет осознавание, тело «догоняет» голову.</li>
                <li>Пару чистых листов для рисования/схем. Не про «уметь рисовать», а про выразить образ.</li>
                <li>Тихое место и 10 минут – 24 часа (во сне тоже подсказки) в день — по состоянию.</li>
                <li>Вода, плед, таймер — уют → телу спокойно → психике легче.</li>
              </ul>
            </div>

            <div>
              <h4 className="font-bold mb-2">8. Как это проходит.</h4>
              
              <div className="mb-3">
                <h5 className="font-semibold">День 1 — Призыв Тени</h5>
                <p className="text-sm mb-2">Цель: безопасно увидеть, что прячется.</p>
                <ul className="list-disc pl-5 text-sm space-y-1">
                  <li>Разогрев: 2–3 минуты дыхания (мягкий вдох - 4 счёта, спокойный выдох - 4 счёта).</li>
                  <li>Сканирование: «Где в теле отзывается?», «На что я сейчас злюсь/боюсь/обижен(а)?», «Где в жизни ты это проявляешь?», «Как это защищает тебя?», «Что чувствует твой внутренний ребёнок?».</li>
                  <li>Карта тени: назови/запиши 1–3 чувства, 1–3 триггера, 1 потребность.</li>
                  <li>Бережное завершение: «Со мной ок. Я вижу тебя». Вода/растяжка.</li>
                </ul>
              </div>

              <div className="mb-3">
                <h5 className="font-semibold">День 2 — Диалог</h5>
                <p className="text-sm mb-2">Цель: наладить контакт и снизить/убрать внутренний конфликт.</p>
                <ul className="list-disc pl-5 text-sm space-y-1">
                  <li>Письмо от Тени (1 страница, от первого лица): «Я злюсь/боюсь… Я хочу… Мне важно… Мне больно...».</li>
                  <li>Письмо от взрослого(ой) себя: признание чувств, границы, поддержка: «Я слышу, спасибо, давай вот так…».</li>
                  <li>Чек-ин тела: какая эмоция сейчас? Мягкая практика (дыхание, ладонь на грудь).</li>
                </ul>
              </div>

              <div className="mb-3">
                <h5 className="font-semibold">День 3 — Архетипический выбор</h5>
                <p className="text-sm mb-2">Цель: взять опору светлой стороны.</p>
                <ul className="list-disc pl-5 text-sm space-y-1">
                  <li>Опиши 3 качества архетипа, которые он даёт.</li>
                  <li>Микропрактика: фраза-маячок («Я ставлю мягкую границу»), жест/поза, 1 мини-шаг в реальной ситуации.</li>
                  <li>Условный контракт: «Когда Тень напоминает о боли — Архетип делает Х», где Х = одна фраза + одно действие (≤2 минут), которое переводит сырой импульс в безопасное и полезное русло.</li>
                </ul>
              </div>

              <div className="mb-3">
                <h5 className="font-semibold">День 4 — Интеграция</h5>
                <p className="text-sm mb-2">Цель: собрать целостность и назначить дальнейшие шаги.</p>
                <ul className="list-disc pl-5 text-sm space-y-1">
                  <li>Личный символ (знак/талисман/мини-рисунок).</li>
                  <li>План действий на 7 дней: 1 маленький шаг в день (SMART-формат: конкретно, выполнимо, привязано к контексту).</li>
                  <li>Ритуал закрытия: благодарность себе, Тени и Архетипу, 3 повода гордиться. Преподнеси подношение (внутренне вырази благодарность Вселенной и всем существам во всех мирах).</li>
                </ul>
              </div>
            </div>

            <div>
              <h4 className="font-bold mb-2">9. Зачем таймер на сутки?</h4>
              <ul className="list-disc pl-5 space-y-1">
                <li>Интеграция vs. «запой»: психике нужно время, чтобы новое улеглось.</li>
                <li>Ритм и границы: один день — одна тема; меньше перегруза, больше глубины.</li>
                <li>Безопасность: паузы между эмоциональными «погружениями».</li>
                <li>Если пропустила/пропустил — не ругай себя: просто вернись к текущему дню (или перезапусти цикл, если так спокойнее).</li>
              </ul>
            </div>

            <div>
              <h4 className="font-bold mb-2">10. Кому подойдёт?</h4>
              <ul className="list-disc pl-5 space-y-1">
                <li>Тем, кто переживает сильные эмоции, ссорится, стесняется чувств и хочет мягкости и силы.</li>
                <li>Творческим и любознательным — формат игровой, с рисунками и заметками.</li>
              </ul>
            </div>

            <div>
              <h4 className="font-bold mb-2">Частые вопросы</h4>
              
              <div className="mb-3">
                <h5 className="font-semibold">А если «ничего не чувствую»?</h5>
                <p className="text-sm">
                  Начни с тела: «Где напряжение? Какой размер/температура/фактура?». Пиши 5 минут по таймеру свободным письмом — часто чувства «догоняют» после телесного внимания.
                </p>
              </div>

              <div className="mb-3">
                <h5 className="font-semibold">Можно ли повторять квест?</h5>
                <p className="text-sm">
                  Да. Позволь времени течь — озарение придёт. Новый/уточняющий запрос — под текущее состояние.
                </p>
              </div>

              <div className="mb-3">
                <h5 className="font-semibold">Если стало тяжело?</h5>
                <p className="text-sm">
                  Пауза. Вода, окно, движение/растяжка, несколько циклов дыхания. Вернись к самой мягкой части задания. Если «накрывает» — к родным/близким, специалисту.
                </p>
              </div>

              <div className="mb-3">
                <h5 className="font-semibold">Сколько времени в день?</h5>
                <p className="text-sm">
                  От 10 минут до 24 часов (во сне тоже подсказки) — по состоянию. Лучше коротко и регулярно, чем «героически и редко».
                </p>
              </div>

              <div className="mb-3">
                <h5 className="font-semibold">Рекомендации:</h5>
                <p className="text-sm">
                  Начинать каждый новый день квеста с утра и «медитировать» (быть сосредоточенным, на уровне подсознания, на образе и заданиях карты) в течении дня. Вести заметки.
                </p>
                <p className="text-sm">
                  Вечером выполнить задания (если есть), записать всё в дневник/тетрадь.
                </p>
              </div>

              <div className="mb-3">
                <h5 className="font-semibold">Нужно ли делиться записями?</h5>
                <p className="text-sm">
                  Нет. Всё написанное — только для тебя.
                </p>
              </div>

              <div className="mb-3">
                <h5 className="font-semibold">Что, если я злюсь на близких?</h5>
                <p className="text-sm mb-2">
                  Злость = сигнал границ. Шаги «мягкой силы»:
                </p>
                <ol className="list-decimal pl-5 text-sm space-y-1">
                  <li>Контакт с собой: «Сейчас злюсь → мне важно уважение/пауза/тишина».</li>
                  <li>Запрос в формате «конкретика + я-сообщение + малый шаг»:
                    <ul className="list-disc pl-5 mt-1 space-y-1">
                      <li>«Когда меня перебивают, я злюсь и теряю мысль. Пожалуйста, дай мне 2 минуты договорить — потом тебе слово».</li>
                      <li>«Я устал(а) и нервничаю. Давай перенесём разговор на завтра до обеда?».</li>
                      <li>«Мне важно, чтобы на ужин не было телефонов. Договоримся на 30 минут без экранов?»</li>
                    </ul>
                  </li>
                  <li>Если отказ — повтори с границей: «Сейчас мне нужен перерыв на 10 минут. Вернусь к разговору позже».</li>
                </ol>
              </div>

              <div className="mb-3">
                <h5 className="font-semibold">Противопоказания и «карта помощи»</h5>
                <p className="text-sm mb-2">
                  Квест — не психотерапия и не медпомощь.
                </p>
                <p className="text-sm mb-2">
                  Не рекомендуется при:
                </p>
                <ul className="list-disc pl-5 text-sm space-y-1">
                  <li>активном ПТСР с частыми флэшбеками,</li>
                  <li>тяжёлых эпизодах депрессии/мании, острых панических атаках,</li>
                  <li>текущем риске самоповреждения/суицидальных намерениях,</li>
                  <li>активных зависимостях без сопровождения специалиста.</li>
                </ul>
                <p className="text-sm mb-2">
                  Если есть любой из пунктов выше — проходи квест только с терапевтом/наставником.
                </p>
                <p className="text-sm mb-2">
                  Если ты в опасности или думаешь о самоповреждении — немедленно обратись за помощью:
                </p>
                <ul className="list-disc pl-5 text-sm space-y-1">
                  <li>местные экстренные службы,</li>
                  <li>национальная горячая линия по психическому здоровью,</li>
                  <li>контакты своего терапевта/наставника.</li>
                  <li>«Помощь рядом». Контакты рекомендуемых специалистов.</li>
                </ul>
              </div>

              <div className="mb-3">
                <h5 className="font-semibold">Модуль «После 4-го дня»</h5>
                
                <div className="mb-2">
                  <h6 className="font-medium">Неделя 1 (поддержка символа):</h6>
                  <ul className="list-disc pl-5 text-sm space-y-1">
                    <li>Носи символ (знак/талисман) или рисунок рядом.</li>
                    <li>Ежедневно 1 мини-шаг из плана (≤10 минут).</li>
                    <li>Вечером отметь: «1 факт, где я был(а) в опоре Архетипа».</li>
                  </ul>
                </div>

                <div>
                  <h6 className="font-medium">Неделя 2–4 (встроить в жизнь):</h6>
                  <ul className="list-disc pl-5 text-sm space-y-1">
                    <li>«Одна ситуация — один навык»: выбери повторяющийся контекст (работа/дом) и отрепетируй фразу-маячок.</li>
                    <li>1 короткая сессия/нед. «Разговор с Тенью» (10–15 минут).</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div className="mx-auto mt-2 w-[92%] text-right mb-12">
        <Pill onClick={onBack}>
          <span className="inline-flex items-center gap-2">
            <ArrowLeft className="h-4 w-4"/> {t.common.back}
          </span>
        </Pill>
      </div>
    </ScreenFrame>
  );
};

